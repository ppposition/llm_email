2025-11-09 22:19:58,750 - __main__ - INFO - åˆå§‹åŒ–é‚®ç®±ç®¡ç†ç³»ç»Ÿ
2025-11-09 22:19:58,751 - __main__ - INFO - é…ç½®éªŒè¯é€šè¿‡
2025-11-09 22:19:58,751 - src.services.qq_email_client - INFO - åˆå§‹åŒ–QQé‚®ç®±å®¢æˆ·ç«¯: 1016194798@qq.com
2025-11-09 22:19:58,884 - src.services.rag_service - INFO - ä½¿ç”¨Qwen embeddingæ¨¡å‹: Qwen/Qwen3-Embedding-8B
2025-11-09 22:19:58,918 - src.services.rag_service - INFO - ä½¿ç”¨Gemini LLMæ¨¡å‹: gemini-2.5-pro
2025-11-09 22:19:58,918 - src.services.rag_service - INFO - åŠ è½½ç°æœ‰å‘é‡æ•°æ®åº“
2025-11-09 22:19:58,919 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-11-09 22:19:58,933 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-11-09 22:19:58,937 - src.services.rag_service - INFO - QAé“¾åˆå§‹åŒ–å®Œæˆ
2025-11-09 22:19:58,937 - src.services.qq_email_client - INFO - åˆå§‹åŒ–QQé‚®ç®±å®¢æˆ·ç«¯: your_smtp_username
2025-11-09 22:19:58,937 - src.services.qq_email_client - INFO - åˆå§‹åŒ–QQé‚®ç®±å®¢æˆ·ç«¯: 1016194798@qq.com
2025-11-09 22:19:58,937 - __main__ - INFO - åˆ›å»ºç›®å½•: ./vector_db
2025-11-09 22:19:58,937 - __main__ - INFO - åˆ›å»ºç›®å½•: ./logs
2025-11-09 22:19:58,937 - __main__ - INFO - åˆ›å»ºç›®å½•: ./data
2025-11-09 22:19:58,937 - __main__ - INFO - é‚®ç®±ç®¡ç†ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ
2025-11-09 22:19:58,937 - __main__ - INFO - å¼€å§‹æµ‹è¯•ç³»ç»ŸåŠŸèƒ½
2025-11-09 22:19:58,937 - __main__ - INFO - æµ‹è¯•é‚®ä»¶æ¥æ”¶åŠŸèƒ½
2025-11-09 22:19:59,770 - src.services.qq_email_client - INFO - æˆåŠŸè¿æ¥åˆ°IMAPæœåŠ¡å™¨: imap.qq.com
2025-11-09 22:19:59,770 - __main__ - INFO - é‚®ä»¶æ¥æ”¶åŠŸèƒ½æµ‹è¯•æˆåŠŸ
2025-11-09 22:19:59,770 - src.services.qq_email_client - ERROR - æ–­å¼€IMAPè¿æ¥æ—¶å‡ºé”™: command CLOSE illegal in state AUTH, only allowed in states SELECTED
2025-11-09 22:19:59,771 - __main__ - INFO - æµ‹è¯•é€šçŸ¥åŠŸèƒ½
2025-11-09 22:19:59,771 - src.services.notification_service - INFO - æµ‹è¯•é€šçŸ¥åŠŸèƒ½
2025-11-09 22:19:59,772 - src.services.qq_email_client - INFO - æ­£åœ¨è¿æ¥SMTPæœåŠ¡å™¨...
2025-11-09 22:19:59,772 - src.services.qq_email_client - INFO - ä½¿ç”¨SSLè¿æ¥åˆ° smtp.qq.com:465
2025-11-09 22:20:00,282 - src.services.qq_email_client - ERROR - é‚®ç®±ç™»å½•å¤±è´¥: Connection unexpectedly closed
2025-11-09 22:20:00,283 - src.services.qq_email_client - ERROR - å‘é€é‚®ä»¶å¤±è´¥: é‚®ç®±ç™»å½•å¤±è´¥: Connection unexpectedly closed
2025-11-09 22:20:00,286 - src.services.qq_email_client - ERROR - è¯¦ç»†é”™è¯¯ä¿¡æ¯: Traceback (most recent call last):
  File "/home/position/python/email/src/services/qq_email_client.py", line 119, in send_email
    server.login(self.qq_email, self.auth_code)
  File "/home/position/miniconda3/envs/llm/lib/python3.12/smtplib.py", line 739, in login
    (code, resp) = self.auth(
                   ^^^^^^^^^^
  File "/home/position/miniconda3/envs/llm/lib/python3.12/smtplib.py", line 642, in auth
    (code, resp) = self.docmd("AUTH", mechanism + " " + response)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/position/miniconda3/envs/llm/lib/python3.12/smtplib.py", line 432, in docmd
    return self.getreply()
           ^^^^^^^^^^^^^^^
  File "/home/position/miniconda3/envs/llm/lib/python3.12/smtplib.py", line 405, in getreply
    raise SMTPServerDisconnected("Connection unexpectedly closed")
smtplib.SMTPServerDisconnected: Connection unexpectedly closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/position/python/email/src/services/qq_email_client.py", line 123, in send_email
    raise Exception(f"é‚®ç®±ç™»å½•å¤±è´¥: {str(login_error)}")
Exception: é‚®ç®±ç™»å½•å¤±è´¥: Connection unexpectedly closed

2025-11-09 22:20:00,286 - src.services.notification_service - ERROR - é€šçŸ¥åŠŸèƒ½æµ‹è¯•å¤±è´¥
2025-11-09 22:20:00,286 - __main__ - WARNING - é€šçŸ¥åŠŸèƒ½æµ‹è¯•å¤±è´¥
2025-11-09 22:20:00,286 - __main__ - INFO - æµ‹è¯•RAGåŠŸèƒ½
2025-11-09 22:20:00,286 - __main__ - INFO - RAGç»Ÿè®¡ä¿¡æ¯: {'total_emails': 1, 'vector_db_path': './vector_db', 'last_updated': '2025-11-09T22:20:00.286672'}
2025-11-09 22:20:00,286 - __main__ - INFO - ç³»ç»ŸåŠŸèƒ½æµ‹è¯•å®Œæˆ
2025-11-09 22:20:00,286 - __main__ - INFO - å¯åŠ¨é‚®ç®±ç®¡ç†ç³»ç»Ÿ
2025-11-09 22:20:00,287 - __main__ - INFO - å¯åŠ¨é‚®ä»¶æ£€æŸ¥å¾ªç¯
2025-11-09 22:20:00,287 - __main__ - INFO - å¯åŠ¨Web API
2025-11-09 22:20:00,287 - __main__ - INFO - æ£€æŸ¥æ–°é‚®ä»¶
2025-11-09 22:20:00,301 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.102:5000
2025-11-09 22:20:00,301 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-11-09 22:20:00,788 - src.services.qq_email_client - INFO - æˆåŠŸè¿æ¥åˆ°IMAPæœåŠ¡å™¨: imap.qq.com
2025-11-09 22:20:01,084 - src.services.qq_email_client - INFO - æ‰¾åˆ° 10 å°é‚®ä»¶
2025-11-09 22:20:01,287 - src.services.qq_email_client - ERROR - è·å–é‚®ä»¶ b'402' æ—¶å‡ºé”™: expected string or bytes-like object, got 'Header'
